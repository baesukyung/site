<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/css.css">
</head>
<body>
    <div class="warp">
        <h1 id="title">할 일 목록</h1>
        <button id="add-btn">목록추가</button>

        <ul id="list">
            <li>제목1</li>
            <li>제목2</li>
            <li>제목3</li>
            <li>제목4</li>
        </ul>
    </div>


<script type="text/javascript">
// var title=document.getElementById("title");
// var list=document.getElementById("list");
// var li=list.getElementsByTagName("li");
// var addBtn=document.getElementById('add-btn');
// var listCounter=1;
// // 변수초기화

// for(var i=0; i<li.length; i++){
//     li[i].addEventListener('click',activeItem);
// }

// function activeItem(){
//     console.log(this);
//     title.innerHTML=this.innerText;
//     for(var i=0; i<li.length; i++){
//         li[i].removeAttribute('class');
//     }
//     this.setAttribute('class','active');
// }//css에 있는 .active로 변경하겠다는 것임
// addBtn.addEventListener('click',function(){
//     var txt=prompt("제목 입력");
//     list.innerHTML += '<li>'+txt+'</li>';
// });
// ----------------------------------------------------------
// - elem.hasAttribute(name) — 속성 존재 여부 확인
// - elem.getAttribute(name) — 속성값을 가져옴
// - elem.setAttribute(name, value) — 속성값을 변경함, 객체의 속성을 지정
// - elem.removeAttribute(name) — 속성값을 제거함
// - elem.attributes 은 속성의 모음(collection)을 반환함

// ---------------------------------------------------------------

// 2번째 해보기------------------------------------
   // 변수 초기화
   var title = document.getElementById('title'); 
   var list = document.getElementById('list');
   var li = list.getElementsByTagName('li');
   var addBtn = document.getElementById('add-btn');   // 목록 추가 버튼

   // 이벤트리스너
   list.addEventListener('click', activeItem); 

   function activeItem(event){
      // 클릭한 노드가 li이면 
      if(event.target.nodeName == 'LI'){
         // event.target은 클릭한 객체를 의미
         title.innerHTML = event.target.innerText;   

         // 목록 스타일 초기화
         for(var i = 0; i < event.target.parentNode.children.length; i++){
            event.target.parentNode.children[i].removeAttribute('class');
         }
         // 클릭한 목록 스타일 지정
         event.target.setAttribute('class', 'active'); // 클릭한대상
         document.getElementById('title').style.background="yellow";  
         document.getElementById('title').style.color="blue";             
      }   // end if
   }   // end function      

   // 목록 추가
   addBtn.addEventListener('click', function(){
      var txt = prompt('제목 입력');
      list.innerHTML += '<li>' + txt + '</li>';
   });


    </script>
</body>
</html>




