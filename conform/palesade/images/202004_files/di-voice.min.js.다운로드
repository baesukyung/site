!function(){if("function"==typeof window.CustomEvent)return;function e(e,n){n=n||{bubbles:!1,cancelable:!1,detail:null};var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),t}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(a){function t(){annyang.isListening()?(a(".search-input").attr("placeholder",divoice.listening_placeholder_text),a(".di-voice-mic").removeClass("listening-inactive").addClass("listening-active")):(a(".search-input").attr("placeholder",divoice.notlistening_placeholder_text),a(".di-voice-mic").removeClass("listening-active").addClass("listening-inactive"))}jQuery(document).ready(function(){if(annyang){var e={"ride the lightning":function(){window.location.href="/lightning-results/"},"show (me) new vehicles":function(){window.location.href="/new-vehicles/"},"show (me) used vehicles":function(){window.location.href="/used-vehicles/"},"schedule service":function(){window.location.href="/schedule-service/"},"schedule a test drive":function(){window.location.href="/schedule-test-drive/"},"show (me) *vehicles for less than *max_amount":function(e,n){a(".our_price-slider").data("ionRangeSlider").update({to:n});var t=new CustomEvent("setLightningSearchValue",{detail:e});document.dispatchEvent(t)},"show (me) (a ) (an ) *vehicles":function(e){var n=new CustomEvent("setLightningSearchValue",{detail:e});document.dispatchEvent(n)},"next page":function(){a(".results-pagination li:last a, .pagination li:last a").click()},"go back":function(){a(".results-pagination li:first a, .pagination li:first a").click()},"go to the top":function(){a("html, body").stop().animate({scrollTop:0},500)},"go to the bottom":function(){a("html, body").stop().animate({scrollTop:a(document).height()},500)},"reset (my) search":function(){var e=new CustomEvent("clearLightningSearch");document.dispatchEvent(e)},"play the best karaoke song":function(){var e=a("<iframe>").attr("src","https://www.youtube.com/embed/2NQIPVqLMUg?enablejsapi=1&autoplay=1").css({width:1024,height:768});a("#karaoke").append(e),document.getElementById("karaoke").show()}};a(document).on("lightningSearchRendered",function(){annyang.addCommands(e),annyang.addCallback("start",function(){t()}),annyang.addCallback("end",function(){t()}),annyang.addCallback("error",function(e){t()}),annyang.addCallback("errorNetwork",function(e){t()}),annyang.addCallback("errorPermissionBlocked",function(){annyang.abort(),t()}),annyang.addCallback("errorPermissionDenied",function(){annyang.abort(),t()}),annyang.addCallback("result",function(e){console.log(e)}),function(n){n(".search-wrap, #mobile-search-field").addClass("voice-active"),n(".search-wrap").prepend('<a href="#" class="di-voice-float"><svg class="di-voice-mic" height="36" viewBox="0 0 24 24" width="36" xmlns="http://www.w3.org/2000/svg"> \t  <path d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z" /> \t</svg></a>'),n("#mobile-search-field").prepend('<a href="#" class="di-voice-float"><svg class="di-voice-mic" height="28" viewBox="0 0 24 24" width="28" xmlns="http://www.w3.org/2000/svg"> \t  <path d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z" /> \t</svg></a>'),"true"===sessionStorage.getItem("di-voice-enabled")&&annyang.start();t(),n(document).keyup(function(e){27===e.keyCode&&(document.getElementById("karaoke").close(),n("#karaoke").empty())}),n(".search-wrap .di-voice-float, #mobile-search-field .di-voice-float").click(function(e){n(this).children(".di-voice-mic").hasClass("listening-active")?(sessionStorage.setItem("di-voice-enabled","false"),annyang.abort()):(sessionStorage.setItem("di-voice-enabled","true"),annyang.start()),t()})}(a)})}else console.log("Voice failed")}(jQuery))}(jQuery);
//# sourceMappingURL=di-voice.min.js.map
