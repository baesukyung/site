"use strict";var sts_tracking_only,STS=STS||{};STS.tracking_only=sts_tracking_only||!1,function(e,t,i,n,a,r,o,s,c,l,u,d){u.load_start=1*new Date,u.static_env=u.static_env||"prod",u.integrate_js_date="2020-06-25T21:09:15.585329",u.integrate_js_deployed_by="eJzLzczILHLIBZEAGqMEcw==",u.integrate_js_commit="dd686a7",u.colormap={"--key--":["natural","hover","WA btn"],default:["#00A19B","#F5A623","#00A19B"],black:["#000000","#000000","#000000"],blue:["#2D4F97","#4C8CCB","#4C8CCB"],bmwgray:["#808284","#404142","#808284"],cityauto:["#013785","#6D8EBC","#6D8EBC"],"cars.com":["#a400b4","#a400b4","#a400b4"],davesmithmotors:["#EC078D","#B0126F","#EC078D"],gold:["#FFDB59","#FFE68C","#FFDE66"],green:["#487700","#76C400","#497600"],green2:["#C1D83F","#616C20","#C1D83F"],haselwood:["#F4BC15","#FFE68C","#F4BC15"],heartlandtoyota:["#D72027","#F5878F","#D72027"],lexusofsilverspring:["#760108","#F20216","#F20216"],lightblue:["#428BCA","#214665","#428BCA"],nelsonmazda:["#1E88E5","#074472","#1E88E5"],nelsonmazdanogradient:["#1E88E5","#074472","#1E88E5"],pga:["#C10F13","#D91F23","#D91F23"],silver:["#A1A1A1","#CDCDCD","#C4C4C4"],subarublue:["#40609F","#203050","#40609F"],red:["#F52433","#F5878F","#F52433"],rochesteraudi:["#CC0033","#E80016","#CC0033"],westhillscjd:["#009BCA","#4C8CCB","#009BCA"],westhillshonda:["#1F64AF","#4C8CCB","#1F64AF"],westhillskia:["#C4172B","#F5878F","#C4172B"],westlake:["#369FF4","#2D85CC","#369FF4"]},u.loaded_versions=u.loaded_versions||{},u.loaded_versions[u.integrate_js_date]||(u.loaded_versions[u.integrate_js_date]=!0,u.popout_handlers=[],u.popin_handlers=[],function(e,t,i){t=new d,t.onload=function(){try{i={exports:{}},new Function("module","define",t.responseText)(i,void 0),u.jQuery=u.$=i.exports,e()}finally{t=null}},t.onerror=t.onabort=function(){t=null},t.open("GET","https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"),t.send()}(function(){function n(){return u.args.vinifierbaseurl?u.args.vinifierbaseurl:u.args.testvinifier?"https://"+u.args.testvinifier+"-vinifier.testenv.spincar.com/":u.args.devvinifier?"string"==typeof u.args.devvinifier?"http://192.168.0."+u.args.devvinifier+":7774/":"http://localhost:7774/":"https://api"+(u.region&&"us"!==u.region?"-"+u.region:"")+".spincar.com/"}function d(e,t){return e=e.split("&")[0],t=t||{},v.each(e.split(/[#!]|%23/),function(e,i){if(i){var n,a,r;n=i.split("="),a=o(n[0]).toLowerCase().replace(/[\-_]/g,""),r=n.length<2||o(n[1]),t[a]=r}}),t}function _(){return k+(u.tracking_only?"v2":"integrate")+".js"}function p(t){if(t=t.originalEvent,/^sts_vehicle_data:/.test(t.data)){"srp"===u.page_type&&(u.analytics2.s3_folder=u.customer),v(e).off("message.sts_vehicle_data");var i=u.vehicle_data=JSON.parse(/:(.*)$/.exec(t.data)[1]);v(e).triggerHandler("sts_vehicle_data",i),u.partner&&u.customer!==i.s3_folder&&(u.analytics2.s3_folder=i.s3_folder),!u.args.debugspin&&i.vin&&i.vin!==u.analytics2.vin?(u.analytics2.vin=i.vin,u.Analytics2.SendNow()):"srp"===u.page_type&&u.Analytics2.SendNow(),opener&&opener.postMessage(t.data,"*")}}function f(i){if("STS:integration-context"===i.data){var n=t.querySelector(".spin-frame");n&&n.contentWindow.postMessage("STS:integration-context"+JSON.stringify({url:e.location.href}),e.location.protocol+"//cdn.spincar.com")}}var v,g;v=g=u.jQuery;var h=function(e){return v.parseJSON(e)},m=function(e){function t(e){switch(typeof e){case"number":case"boolean":return""+e;case"undefined":return"null";case"object":if(null===e)return"null";if(e.hasOwnProperty("length")){for(var a=[],r=0;r<e.length;++r)a.push(t(e[r]));return"["+a.join(",")+"]"}var a=[];for(var o in e)e.hasOwnProperty(o)&&void 0!==e[o]&&a.push(t(o)+":"+t(e[o]));return"{"+a.join(",")+"}";case"string":return'"'+(i.test(e)?e.replace(i,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}):e)+'"';default:return t(""+e)}}var i=/[\\\"\u0000-\u001f\u007f-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return m=t,t(e)},w=function(e){var t,i,n,a,r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",c="",l="",u=0;do{t=e.charCodeAt(u++),i=e.charCodeAt(u++),c=e.charCodeAt(u++),n=t>>2,a=(3&t)<<4|i>>4,r=(15&i)<<2|c>>6,l=63&c,isNaN(i)?r=l=64:isNaN(c)&&(l=64),s=s+o.charAt(n)+o.charAt(a)+o.charAt(r)+o.charAt(l),t=i=c="",n=a=r=l=""}while(u<e.length);return s};u.browser=u.browser||{},u.browser.IE=function(){return e.document.documentMode||0}(),u.browser.mobile=function(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(i.userAgent||i.vendor||e.opera),function(){!function(){var e=[],t=!1,i=function(n){if(e.push(n),!t){t=!0;var a=v("<script>").on("load",function(){i=function(e){e(u.CryptoJS)},v.each(e,function(e,t){t(u.CryptoJS)}),e=null}).prop("src",u.STATIC_PREFIX+"hmac-sha256.min.js?_=dd686a75e59")[0];v("head")[0].appendChild(a)}};u.aws_scope=function(e,t){return new Date(t).toISOString().slice(0,10).replace(/-/g,"")+"/us-east-1/"+e+"/aws4_request"},u.aws_sign=function(e,t,n,a){i(function(i){var r=function(e,t){return i.HmacSHA256(t,e)},o=t.split("/");e="AWS4"+e,v.each(o,function(t,i){e=r(e,i)}),a(r(e,n)+"")})},u.aws_hash=function(e,t){i(function(i){t(i.SHA256(e)+"")})}}();var e=function(e,t,i,n,a){a=a||{},t.max_age=t.max_age||1/0;var o="dynamodb.us-east-1.amazonaws.com",s=(a.dev_cache?"dev_"+u.args.teststatic:"prod")+"_cache",c=new Date,l=c.toISOString().slice(0,19).replace(/[-:]/g,"")+"Z",d=u.aws_scope("dynamodb",c),_=JSON.stringify({Key:{url:{S:e.match(/:(.*)/)[1]}},ProjectionExpression:"code,content,updated",TableName:s,ConsistentRead:!1});u.aws_hash(_,function(e){var a={"X-Amz-Date":l,"X-Amz-Target":"DynamoDB_20120810.GetItem"},s="host:"+o+"\n",c="host";v.each(a,function(e,t){e=e.toLowerCase(),s+=e+":"+t+"\n",c+=";"+e});var p={},f="",g=!0;v.each(p,function(e,t){g||(f+="&"),g=!1,f+=r(e)+"="+r(t)});var h="POST\n/\n";h+=f+"\n",h+=s+"\n",h+=c+"\n"+e,u.aws_hash(h,function(e){var r="AWS4-HMAC-SHA256\n"+l+"\n"+d+"\n"+e;u.aws_sign("uLMpxey3f4oJHrqWDNqai8ZK4cOn6BOFuGxXYZF/",d,r,function(e){a.Authorization="AWS4-HMAC-SHA256 Credential=AKIAJXVUVECILVNUQ5VQ/"+d+", SignedHeaders="+c+", Signature="+e,v.ajax({url:"https://"+o+"/?"+f,method:"POST",cache:!0,contentType:"application/x-amz-json-1.0",dataType:"json",processData:!1,data:_,jsonp:!1,headers:a,success:i&&function(e){e.Item?new Date-new Date(e.Item.updated.S)>1e3*t.max_age?n&&n():i(parseFloat(e.Item.code.N),e.Item.content.S):n&&n()},error:n})})})})};u.read_cached_url=function(t,i,n){var a,r=i.success,o=i.error,c=!1,l=!1,d=!1,_=!1,p=function(e,t){c||(c=!0,e&&e(t))},f=function(){l=!0,d?p(o):a&&p(r,a)},g=function(){l?f():s(f,1e3)};v.ajax({dataType:"json",url:t,success:function(e){_=!0,p(r,e)},error:function(){f()}}),u.args.automatichotspots&&u.args.devvinifier||s(function(){_||n&&n.dev&&!n.dev_cache||e(t,i,function(e,t){e<200||299<e?d=!0:a=JSON.parse(t),g()},function(){d=!0,g()},n)},10)}}(),function(){u.vinifier=function(e,t,i){"swipetospin"===e.customer&&"us"!==u.region&&(u.region="us");var a=n();e.partner?a+="any-spin/"+e.partner+"/"+e.vin:a+="spin/"+e.customer+"/"+e.vin,a+="?v=20160212",u.args.automatichotspots&&(a+="&automatichotspots="+u.args.automatichotspots),u.args.config&&(a+="&config="+u.args.config),u.args.showold&&(a+="&show_old=true"),u.manager_preview&&(a+="&managerpreview=1&_="+1*new Date),u.read_cached_url(a,{success:function(e){e.show_spin||!u.old_ui_enabled&&e.show_featuretour?t&&t(e):i&&i(!1,e)},error:function(){i&&i(!0,{info:{options:{}},show_spin:!1})}},{dev:u.args.devvinifier,dev_cache:u.args.devvinifier&&u.args.devvinifiercache})}}(),function(){var t,i=["disableautospin","disabledrawer","disablewatermark","econly","hidecarousel","hideexpandbtn","hidefeaturetour","hidehotspots","hidelivevideo","hidevehiclehits","lang","stscolor","useinnerwidth"];try{t=JSON.parse(sessionStorage.getItem("STS.args"))}catch(e){}var n=u.args=t||{testremoteenv:!1,teststatic:!1,testvinifier:!1,testanalytics:!1,devvinifier:!1,devanalytics:!1,debugspin:!1};d(e.location.hash,n),u.args.UI={};for(var a in u.args)i.indexOf(a)>-1&&("disabledrawer"===a&&!0===u.args[a]&&(u.args.UI.hidecarousel=!0),u.args.UI[a]=u.args[a],delete u.args[a]);if(n.testall&&v.each(["teststatic","testvinifier","testanalytics"],function(e,t){n[t]=n[t]||n.testall}),n.saveargs)try{sessionStorage.setItem("STS.args",JSON.stringify(n))}catch(e){}}();var y,k="//cdn.spincar.com/",b=u.canonical_hostname=e.location.hostname.toLowerCase().replace(/^(www\.)+/,"");if("pilot"===u.static_env)y=!0,u.args.featuretour=!0;else if(u.args.teststatic&&!u.args.testaddpilot)y=!1;else{var A={};y=!u.args.suppresspilot&&b in A}if(y?(k+="static-test/pilot/",u.args.featuretour=!0):u.args.testremoteenv&&u.args.teststatic?k+="static-test/"+u.args.teststatic+"/":u.args.teststatic?k+="static-test/"+u.args.teststatic+"/":k+="spincar-static/",u.STATIC_PREFIX=k,y&&"pilot"!==u.static_env)return u.static_env="pilot",void v.getScript(_());if(!y&&u.args.teststatic&&"test"!==u.static_env)return u.static_env="test",void v.getScript(_());if(!(u.args.nospin||u.browser.IE&&u.browser.IE<11)){u.args.UI.lang&&v("html").attr("lang",u.args.UI.lang),v("head").append(v('<link rel="stylesheet">').attr("href",k+"20150608/i18n/walkaround.scss?_=dd686a75e59")),/\.kjdev\.ca$/.test(u.canonical_hostname)&&(b="kjdev.ca");var x=function(){function n(){var t=e.location.pathname.split("/")[2];return"carite-of-chesterfield"===t?62337:"carite-of-eastpointe"===t?61662:"carite-of-fort-pierce"===t?59540:"carite-of-garden-city"===t?62303:"carite-of-grand-ledge"===t?66195:"carite-of-hartland"===t?65073:"carite-of-indianapolis"===t?62614:"carite-of-kalamazoo"===t?66834:"carite-of-madison-heights"===t?63257:"carite-of-memphis"===t?63255:"carite-of-taylor"===t?62304:"carite-of-windsor-locks"===t?72097:null}function o(){var t=e.location.href.match(/\/(buy-here-pay-here.*)\//);if(t){var i=t[1];if(-1!==i.indexOf("-il122"))return 46897;if(-1!==i.indexOf("-inc02"))return 65363;if(-1!==i.indexOf("-inc03"))return 65364;if(-1!==i.indexOf("-inc07"))return 65365;if(-1!==i.indexOf("-in115"))return 65366;if(-1!==i.indexOf("-kyc20"))return 65360;if(-1!==i.indexOf("-ky107"))return 47315;if(-1!==i.indexOf("-ny107"))return 47415;if(-1!==i.indexOf("-oh112"))return 65361;if(-1!==i.indexOf("-oh154"))return 65325;if(-1!==i.indexOf("-pa114"))return 65362;if(-1!==i.indexOf("-tx126"))return 52992;if(-1!==i.indexOf("-ut104"))return 47187;if(-1!==i.indexOf("-ut105"))return 47140;if(-1!==i.indexOf("-va102"))return 47476;if(-1!==i.indexOf("-wv104"))return 47317;if(-1!==i.indexOf("-wv105"))return 47318;if(-1!==i.indexOf("-wv106"))return 42105;if(-1!==i.indexOf("-wv107"))return 42104;if(-1!==i.indexOf("-wv109"))return 47316}return null}function d(){var t=e.location.pathname.split("/")[1];return"coolsprings"===t?54414:"murfreesboro"===t?55710:null}function _(e){return e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})}function f(e,t,i){v.ajax({url:e,dataType:"script",cache:"true",success:function(){i(u[t])}})}function y(i,n,r,o){var l=!1;f(O+i+S,"provider_script",function(i){i(g,function i(d,_,p,f){u.page_type="";var g;if(f=f||function(){return 0===e.location.pathname.replace(/\//g,"").length},"function"==typeof d){if(g=v.trim(d()),u.srp_vins=p&&p(),u.srp_vins){if(u.srp_vins.length<3&&!l)return l=!0,void s(function(){i(d,_,p,f)},1e3);u.page_type="srp"}else if(f())u.page_type="homepage";else if(!g){var h=20;return-1===t.readyState.indexOf("in")&&(h=a.max(20,(1*new Date-u.load_start)/10)),void(u.retry_timeout=s(function(){i(d,_,p,f)},h))}}else g=v.trim(d);if(!u.page_type&&g&&(u.vin=g,u.page_type=u.analytics2.page_type="vdp"),v(e).triggerHandler("page_type"),"vdp"===u.page_type){if("function"==typeof r&&(_=r(_)),"string"==typeof r){try{c.log("Detected vin: "+m(g))}catch(e){}g=r}o(n,g,_)}})})}function A(){function e(e){return"0123456789 ABCDEFGH_ JKLMN_P_R _STUVWXYZ".indexOf(e)%10}var i="";try{i=t.documentElement.innerHTML}catch(e){}for(var n=i.match(/\b[A-HJ-NPR-Z0-9]{17}\b/g),a={},r=0;r<n.length;++r)(function(t){if(17!==t.length)return!1;for(var i="0123456789X",n=0,a=0;a<17;++a)n+=e(t[a])*i.indexOf("8765432X098765432"[a]);return i[n%11]===t[8]})(n[r])&&(a[n[r]]=(a[n[r]]||0)+1);var o=null,s=0,c=0;for(var l in a)a.hasOwnProperty(l)&&(a[l]>s?(s=a[l],o=l):a[l]>c&&(c=a[l]));return s>=5&&2*c<s?o:null}var x=k+"integrate/"+b+".js?_="+u.static_content_commit,O=k+"provider_scripts/",S=".js?_="+u.static_content_commit,C=k+"guess.js?_="+1*new Date;u.extra_spin_args={},u.popout_enabled=!0,u.criteo={};var P=function(){return[a.min(e.innerWidth||t.documentElement.clientWidth||t.body.clientWidth,e.outerWidth||1/0),a.min(e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight,e.outerHeight||1/0)]};v(e).on("message.sts_update_aspect",function(e){if(e=e.originalEvent,"string"==typeof e.data&&"sts_update_aspect:"===e.data.substr(0,18)){var t=parseFloat(e.data.substr(18));v(".sts-spin").each(function(){if(v(this).find("iframe")[0].contentWindow===e.source){var i=v(this).data("aspect");return a.abs(i-t)/i>.005&&(v(this).data("aspect",t),v(this).triggerHandler("aspect-change")),!1}})}}),function(){function t(t,n,r){function o(){var e,i,n=t.data("aspect"),r=P(),o=a.min(r[1],r[0]/n),s=a.ceil(o*n);e=(r[0]-s)/2,i=(r[1]-o)/2,t.css({left:e,top:i,width:s,height:o})}if(r=v.extend({},r,u.popout_options),r.hasOwnProperty("no_history")||(r.no_history=!1),void 0===n&&(n=function(){}),t.data("popped-out"))return void(i&&i());u.popout_handlers.forEach(function(e){e()}),t.data("popped-out",!0),v(".sts-spin-click-cover").hide();var c="offsetY"in r&&"height"in r?"->"+r.offsetY+","+r.height:"";t.find("iframe")[0].contentWindow.postMessage("sts_popping_out"+c,"*");var d=v("<div>");d.css({opacity:.8,"background-color":"black",position:"fixed",width:"200%",height:"200%",top:"0px",left:"0px","z-index":1e9,"-webkit-backface-visibility":"hidden"}),d.on("mousedown",function(e){e.preventDefault(),e.stopPropagation()}),t.before(d);var _=t.css("position"),p=t.css("z-index"),f=t.css("left"),g=t.css("top"),h=t[0].style.width,m=t[0].style.height,w=v(e).scrollLeft(),y=v(e).scrollTop(),k=v("<div>");k.addClass("sts-placeholder"),k.css({position:_,"z-index":p,left:f,top:g,width:h,height:m}),t.after(k),t.css({position:"fixed","z-index":1e9+1,"-webkit-backface-visibility":"hidden"}),o(),v(e).on("resize.popout",function(){o(),s(function(){u.recompute_size(),o()},100)}),t.on("aspect-change.popout",o);var b=!1,A=!1;i=function(){if(!A){i=void 0,A=!0,t.stop(!0),d.stop(!0),v(e).off("resize.popout"),t.off("aspect-change.popout"),v(e).off("popstate.popout"),d.off("click.popout");try{b&&l.back(),b=!1}catch(e){}try{v(e).scrollLeft(w),v(e).scrollTop(y)}catch(e){}t.data("popped-out",!1),v(".sts-spin-click-cover").show(),k.remove(),t.css({position:_,"z-index":p,left:f,top:g,width:h,height:m,"-webkit-backface-visibility":""}),d.remove(),u.popin_handlers.forEach(function(e){e()}),t.find("iframe")[0].contentWindow.postMessage("sts_popped_in","*"),n(),t.triggerHandler("aspect-change")}};try{if(r.no_history)throw 0;l.pushState("sts-popout","",e.location.href),b=!0}catch(e){}v(e).on("popstate.popout",function(){b=!1,i()});var x=setInterval(function(){try{if(r.no_history)throw 0;if("sts-popout"===l.state)return;if(void 0===l.state)throw 0;if(!i)throw 0;throw b=!1,i(),0}catch(e){clearInterval(x)}},50);d.on("click.popout",function(e){e.stopPropagation(),e.preventDefault(),i()})}var i;u.popout=t;var n=1*new Date;v(e).on("message.sts_popout",function(e){e=e.originalEvent,"sts_popout"===e.data&&(1*new Date-n<500||(n=1*new Date,v(".sts-spin").each(function(){if(v(this).find("iframe")[0].contentWindow===e.source)return t(v(this)),!1})))});try{"sts-popout"===l.state&&l.back()}catch(e){}}();var j=function(t){u.extra_spin_args.use_inner_width&&(P=function(){return[e.innerWidth,e.innerHeight]});var i=v(t),n=v("<div>").addClass("sts-spin-click-cover").css({position:"absolute","z-index":-1,left:0,top:0,width:"100%",height:"100%",cursor:"url(data:image/png;base64,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) 29 12, move"}).on("click mousedown mouseup touchstart touchend touchcancel contextmenu",function(e){if(e.preventDefault(),e.stopPropagation(),-1!==["click","mousedown","touchstart"].indexOf(e.type)){var t=v(this),n=e.offsetY;/^touch/.test(e.type)&&(n=e.originalEvent.touches[0].pageY-t.offset().top),u.popout(i,void 0,{offsetY:n,height:t.height()})}}).appendTo(i),r=function(){if(i.is(":visible")){i.css("max-width",P()[0]),u.extra_spin_args.use_max_width||i.css("max-height",P()[1]),u.extra_spin_args.use_container_height&&i.css("max-height","100%");var e=i.height(),t=i.width(),r=a.ceil(t/i.data("aspect"));i.height(r);var o=i.next(".sts-placeholder");o.css({"max-width":P()[0],"max-height":P()[1]}),o.height(o.width()/i.data("aspect")),n.css("z-index",t<250||r<200?1:-1),i.height()!==e&&i.triggerHandler("resize")}};u.recompute_size=r,i.on("aspect-change",r),v(e).resize(r),v(t).triggerHandler("aspect-change")};u.fullbrowser=function(){function i(e){if(/https?:\/\/cdn\.spincar\.com$/.test(e.origin||"")){var i=e.data||"",n=i.match(/^STS:FullBrowser::(\w+)$/);if(n&&(n=n[1],f[n])){var a=t.querySelectorAll(s);if(a.length){for(var r=0;r<a.length;r++)if(a[r].contentWindow===e.source){_=a[r];break}f[n]()}}}}function n(e){var t={};p.push(t);var i=function(i,n){t[i]=e.style[i],e.style[i]=n};i("position","relative"),i("zIndex","2147483647"),i("transform","none"),i("overflow","visible")}function a(e){var t=p.shift();Object.keys(t).forEach(function(i){e.style[i]=t[i]})}function r(){u.popout_handlers.forEach(function(e){e()});var e=_.parentNode;if(l=t.body,e&&!c){for(c=!0,d=l.style.overflow,l.style.overflow="hidden",e=e.parentNode;e!==l;)n(e),e=e.parentNode;_.style.width="100%",_.style.height="100%",_.style.zIndex="2147483647",_.style.top="0",_.style.left="0",_.style.position="fixed";var i=t.querySelector(".sts_spin_container");i&&(i.style.display="block")}}function o(){u.popin_handlers.forEach(function(e){e()});var e=_.parentNode;if(e&&c){for(c=!1,l.style.overflow=d,e=e.parentNode;e!==l;)a(e),e=e.parentNode;_.style.width="1px !important",_.style.height="1px !important",_.style.zIndex="0 !important",_.style.top="",_.style.left="",_.style.position="";var i=t.querySelector(".sts_spin_container");i&&(i.style.display="none"),_=null}}var s=".sts-spin>iframe",c=!1,l=t.body,d="";e.addEventListener("message",i,!1);var _,p=[],f={open:r,close:o,isFull:c};return f}(),u.get_colors=function(){if(u.args.enableoldui||u.old_ui_enabled){var e=u.colormap.default;if(u.ui_skin_custom)u.ui_skin_custom.length>4?e[2]=u.ui_skin_custom[0]:(u.ui_skin_custom[2]&&u.ui_skin_custom[0]&&(e[2]=u.ui_skin_custom[0]),u.ui_skin_custom[3]&&(u.ui_skin_custom[0]&&(e[0]=u.ui_skin_custom[0]),u.ui_skin_custom[1]&&(e[1]=u.ui_skin_custom[1])));else if(u.ui_skin_color)e=u.colormap[u.ui_skin_color];else if(u.args.UI.stscolor&&!(e=u.colormap[u.args.UI.stscolor])){e=u.args.UI.stscolor.split(",");for(var t=0;t<e.length;t++)e[t]="#"+e[t]}return e}var i=u.colormap.default;return u.ui_skin_custom&&u.ui_skin_custom[0]&&(u.ui_skin_custom[2]&&(i[2]=u.ui_skin_custom[0]),u.ui_skin_custom[3]&&(i[0]=u.ui_skin_custom[0]),u.ui_skin_custom[3]&&(i[1]=u.ui_skin_custom[0])),i};var E=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0};!function(){var e=function(){return u.args.regionerbaseurl?u.args.regionerbaseurl:u.args.testregioner?"https://"+u.args.testregioner+"-regioner.testenv.spincar.com/":u.args.devregioner?"string"==typeof u.args.devregioner?"http://192.168.0."+u.args.devregioner+":8779/":"http://localhost:8779/":"https://regioner.spincar.com/"},t=!1;u.regioner=function(i){t||(t=!0,u.read_cached_url(e()+i,{success:function(e){u.region=e.region,u.region||c.log('Error: Invalid S3 folder "'+i+'", cannot find its region.')},error:function(){c.log("Error: Neither regioner nor cache is available, cannot find region.")}},{dev:u.args.devregioner,dev_cache:u.args.devregioner&&u.args.devregionercache}))}}(),u.get_spin_url=function(e,t){t=t||u.customer;var i=v("html").attr("lang")||v('meta[http-equiv="Content-Language"]').attr("content")||"en";v("html").attr("lang",i);var n=u.old_ui_enabled?"20150608/":"20190909/",a=u.STATIC_PREFIX+n+"?_=dd686a75e59#!customer="+r(t)+"!vin="+r(e)+(u.partner?"!partner="+r(u.partner):"")+"!canonicalhostname="+r(u.canonical_hostname)+"!stscolor="+r(u.get_colors().join(",").replace(/#/g,""))+"!lang="+r(i)+(u.popout_enabled?"!popoutenabled":"")+(u.region?"!region="+r(u.region):"");return v.each(["arrowskin","devvinifier","devvinifiercache","forcestartmodal","teststatic","testvinifier","vinifierbaseurl","testremoteenv"],function(e,t){var i=u.args[t];i&&(a+="!"+t,!0!==i&&(a+="="+r(i)))}),v.each(u.extra_spin_args,function(e,t){t&&(a+="!"+e,!0!==t&&(a+="="+r(t)))}),v.each(u.args.UI,function(e,t){a+="!"+e,!0!==t&&(a+="="+r(t))}),a},function(){var t;v(e).on("message",function(e){e=e.originalEvent,"sts_popout"===e.data&&t&&(t.remove(),t=null)}),u.preview_spin=function(i){var n=u.get_spin_url(i)+"!popoutenabled=out!hidecarousel";t=v("<div>").css({position:"fixed",top:0,left:0,width:"100%",height:"100%","z-index":1e12,"background-color":"rgba(0,0,0,0.9)"}).addClass("preview-spin-container");var a=v("<div>").text("X").css({position:"fixed","font-weight":"bold","font-family":"sans-serif",color:"#fff",right:"5%",top:"5%","padding-left":"0.5%","padding-right":"0.5%",border:"2px solid #fff","border-radius":"5px",cursor:"pointer","text-align":"center"}),r=v("<div>").css({position:"fixed",height:"100%",width:"100%"}).append(v("<iframe>").css({border:"none",height:"100%",width:"100%"}).attr("src",n).attr("allowfullscreen",!0));t.append(r),u.old_ui_enabled&&(t.append(a),a.add(t).click(function(){t&&(t.remove(),t=null)})),v("body").append(t),v(e).on("message",function(e){var i=e.originalEvent.data;if("STS:FullBrowser::open"===i)a.hide();else if("STS:FullBrowser::close"===i)if(u.old_ui_enabled)a.show();else{if(!t)return;t.remove(),t=null}})}}(),function(){function n(){if(f&&(o.features[f].dur+=R.stop("wa_feature")),g&&(o.ft_features[g].dur+=R.stop("ft_feature"),o.ft_features[g].dur_autoplay_paused+=R.stop("ft_autoplay"),o.ft_total_duration+=R.stop("view_ft")),d&&_&&("carousel_click"===_?o.carousel_clicks[d].dur+=R.stop("closeup"):o.features[d].dur+=R.stop("closeup")),"walkaround"===y&&(o.view_time_spin+=R.stop("walkaround")),A&&(o.view_clicks_and_times[A].dur+=R.stop("wa_view")),x){var e=R.stop("feature_redesign");o.feature_views_and_times[x].dur+=e,o.total_feature_time+=e}if(S){var t=R.stop("photo");o.photo_views_and_times[S].dur+=t,o.total_photo_time+=t}if(C){var i=R.stop("video");o.video_views_and_times[C].dur+=i,o.total_video_time+=i}if(P){var n=R.stop("drawer_tab");o.tab_clicks_and_times[P].dur+=n}}function a(){if(!X||N){var e=v(1===v("iframe").length?"iframe":'iframe[name*="sts"]');e.length&&e[0].contentWindow.postMessage("ga_time_events:"+JSON.stringify(o),"*")}}var o,l,d,_,f,g,y,b,A,x,O,S,C,P,j,I=!1,D=!1,F=null,z=!0,q=!1,T={eu:"eu-west-1",us:"us-east-1"},X=!0==!!u.args.teststatic,N=u.args.devanalytics||u.args.testanalytics;u.Analytics2={},u.Analytics2.lead=function(e){if("spincar"===e||!u.page_type||"vdp"===u.page_type){e=e?e+"_lead":"lead";try{if(o[e])return;o[e]=!0,W(I)}catch(e){try{c.log("content/integrate.js:2\nincludes/integrate-main.js:62\nincludes/integrate-base.js:101\nincludes/analytics2.js:52\n",function(){try{return(new Error).stack+"\n"}catch(e){}}(),"problem recording lead",e.message,e.stack)}catch(e){}}}},u.Analytics2.srp_spin_click=function(t){u.analytics2.vin=t,u.analytics2.spin=!0,u.analytics2.page_type="srp",v(e).on("message.sts_vehicle_data",p);var i=new MutationObserver(function(){v(".preview-spin-container").length||(i.disconnect(),B(),y=null)});i.observe(v(".preview-spin-container").parent()[0],{childList:!0})},u.Analytics2.is_popout_only=function(){D=!0,y=null,R.stop("walkaround"),o.num_views_spin=0},u.Analytics2.popout_button_click=function(){R.start("walkaround"),y="walkaround",++o.num_views_spin},u.Analytics2.popout_view_closed=function(){n(),a(),R.resetAll(),y=null};var W=u.Analytics2.SendNow=function(t){if(!(X&&!N||z))try{if(!o.client_id||!o.prid)return;if(/\btruecar.com$/.test(e.location.hostname))return void c.log("SpinCar analytics suppressed for TRUECar.");if(/\b.+\.kijiji\.ca$/.test(e.location.hostname))return void c.log("SpinCar analytics suppressed for Kijiji.");if(/\bused-uk.kia.com$/.test(e.location.hostname))return void c.log("SpinCar analytics suppressed for used-uk.kia.com.");if((o.vin||"").length>100||/[^\x00-\x7F]|\n/g.test(o.vin||"")){o.vin=o.vin.replace(/[^\x00-\x7F]|\n/g,"");var i=o.vin.substring(0,100)+"...",n="Long VIN "+i+" on page "+location.href;return c.log(n),void L(n,!0,!0)}if(o.duration=1*new Date-j,u.args.testanalytics||u.args.devanalytics){var a=!1;try{a=e.self!==e.top}catch(e){a=!0}a&&(parent.postMessage(o,"http://sts-static-testenv.s3.amazonaws.com"),parent.postMessage(o,"http://mythicalmotors.testenv.spincar.com/"))}L(o,!t,!1)}catch(e){try{c.log("content/integrate.js:2\nincludes/integrate-main.js:62\nincludes/integrate-base.js:101\nincludes/analytics2.js:153\n",function(){try{return(new Error).stack+"\n"}catch(e){}}(),"problem sending analytics",e.message,e.stack)}catch(e){}}},B=u.Analytics2.reinitialize=function(){j=j?1*new Date:u.load_start,o&&W(),o=u.analytics2={v:3,carousel_clicks:{},client_id:null,prid:null,lead:!1,spincar_lead:!1,num_clicks_vdp:0,num_clicks_spin:0,num_clicks_feature:0,duration:0,spin_latency:null,vin:null,s3_folder:null,url:null,spin:null,missing_script_integration:null,features:{},canonical_hostname:u.canonical_hostname,device:function(){var e=i.userAgent.match(/Android|iPhone|iPad|iPod|Windows Phone|Mac OS X|Windows NT/);return e||(e=i.userAgent.match(/Linux/)),e?e[0]:"Other"}(),misc:null,page_type:null,customer_id:null,ft_back_button_features:null,ft_closed_locations:null,ft_features:{},ft_video_features:{},ft_menu_clicks:null,ft_paused_features:null,ft_preferences:null,ft_skipped_features:null,ft_total_duration:0,is_ft_autoplay_enabled:null,num_clicks_ft:0,num_views_feature_tour:0,num_views_live_video:null,num_views_still_image:null,num_views_spin:null,view_time_live_video:null,view_time_spin:0,carfax_link_clicked:!1,num_clicks_hotspots:0,view_clicks_and_times:{},tab_clicks_and_times:{},feature_category_clicks:{},feature_views_and_times:{},total_feature_clicks:0,total_feature_time:0,fi_views_and_times:{},total_fi_clicks:0,total_fi_time:0,photo_views_and_times:{},total_photo_clicks:0,total_photo_time:0,video_category_clicks:{},video_views_and_times:{},total_video_clicks:0,total_video_time:0,num_clicks_cta:0,num_clicks_cta_interstitial:0};var e=setInterval(function(){t.body&&(clearInterval(e),l=t.createElement("iframe"),l.id=l.name="sts-analytics2-iframe",l.style.visibility="hidden",l.style.border="none",l.style.zIndex=-1e14,l.style.position="absolute",l.style.left=l.style.top="-1000px",l.style.width=l.style.height="1px",l.src="",t.body.appendChild(l),s(function(){l.src="https:"+k+"ana2/client_id.html?_=dd686a75e59"},0))},50)},H=0,L=function(t,n,a){var o=T[u.region];if(!o)return void(H<5?(s(function(){L(t,n,a)},1e3),H++):c.log("Error: Invalid region or region not ready. Analytics not sent."));t=m(t);var l="Action=SendMessage&MessageBody="+r(w(t))+"&Version=2012-11-05",d="prod_analytics",_="505055843994";(u.args.testanalytics||u.args.devanalytics)&&(_="901863237878"),u.args.devanalytics?d="dev_"+u.args.devanalytics+"_analytics":u.args.testanalytics&&(d=u.args.testanalytics+"_analytics"),a&&(d+="_error"),d+=u.region&&"us"!==u.region?"_"+u.region:"";var p="https://sqs."+o+".amazonaws.com/"+_+"/"+d;if(e.XDomainRequest){var f=new Image
;f.src=p+"?"+l,f.onload=f.onerror=function(){f=void 0}}else i.sendBeacon&&i.sendBeacon(p,new Blob([l],{type:"application/x-www-form-urlencoded"}))};v(function(){v("body").click(function(){q=!0,o.num_clicks_vdp++})});var M=function(e,t){return o[e]||(o[e]=t),o[e]},U=function(e,t){var i=M(e,[]);-1===i.indexOf(t)&&i.push(t)},R=function(){function e(e){n[e]=1*new Date}function t(e){if(!n[e])return 0;var t=1*new Date-n[e];return n[e]=null,t}function i(){n={}}var n={};return{start:e,stop:t,resetAll:i}}();v(e).on("message",function(i){var n=i.originalEvent.data;if("string"==typeof n){var a,r;if(0===n.indexOf("sts_client_id_prid:")){var s=h(n.substring(19));u.Analytics2.isOptout=z=s.isOptout,o.client_id=s.client_id;o.prid=s.prid+":"+function(e,t){return Array(1+t).slice((""+e).length).join("0")+e}(E(u.canonical_hostname),10),-1!==e.location.href.indexOf("spins.spincar.com")&&t.referrer?o.url=t.referrer:o.url=e.location.href,W(),l.parentNode.removeChild(l)}if(0===n.indexOf("sts-gs-ana:")){q=!0;var c=h(n.substring(11));if(c.hasOwnProperty("spin_click")&&++o.num_clicks_spin,c.hasOwnProperty("action_click")&&(M("action_click",{})[c.action_click]=!0),c.hasOwnProperty("feature_tour_click")&&++o.num_clicks_ft,c.hasOwnProperty("previous_feature")&&U("ft_back_button_features",c.previous_feature),c.hasOwnProperty("skipped_feature")&&U("ft_skipped_features",c.skipped_feature),c.hasOwnProperty("clicked_feature_from_menu")&&U("ft_menu_clicks",c.clicked_feature_from_menu),c.hasOwnProperty("misc")&&(o.misc||(o.misc=c.misc)),c.hasOwnProperty("close_video")&&g&&(o.ft_video_features[g].dur+=R.stop("ft_video")),c.hasOwnProperty("is_ft_autoplay_enabled")&&(o.is_ft_autoplay_enabled=c.is_ft_autoplay_enabled),c.hasOwnProperty("autoplay_start")&&(b&&(o.ft_features[g].dur_autoplay_paused+=R.stop("ft_autoplay")),b=!1),c.hasOwnProperty("autoplay_pause")&&(U("ft_paused_features",c.autoplay_pause),b=!0,R.start("ft_autoplay")),c.hasOwnProperty("preferences")&&(Array.isArray(c.preferences)?o.ft_preferences=c.preferences:U("ft_preferences",c.preferences)),c.hasOwnProperty("opened_feature_tour")&&(y="feature-tour",R.start("view_ft"),++o.num_views_feature_tour),c.hasOwnProperty("live_video_click")&&("walkaround"===y?o.view_time_spin+=R.stop("walkaround"):"photo"===y&&d&&(o.carousel_clicks[d].dur+=R.stop("closeup")),y="video",o.num_views_live_video?++o.num_views_live_video:o.num_views_live_video=1),c.hasOwnProperty("live_video_duration")&&(y="walkaround",++o.num_views_spin,R.start("walkaround"),o.view_time_live_video?o.view_time_live_video+=c.live_video_duration:o.view_time_live_video=c.live_video_duration),c.hasOwnProperty("current_product")&&("walkaround"===c.current_product&&"walkaround"!==y&&(++o.num_views_spin,R.start("walkaround")),"photo"===c.current_product&&"photo"!==y&&++o.num_views_still_image,"walkaround"!==c.current_product&&"walkaround"===y&&(o.view_time_spin+=R.stop("walkaround")),y=c.current_product),c.hasOwnProperty("play_video_click")&&(o.ft_video_features[g]||(o.ft_video_features[g]={dur:0,views:0}),R.start("ft_video"),++o.ft_video_features[g].views),c.hasOwnProperty("feature")){if(f&&(o.features[f].dur+=R.stop("wa_feature")),R.start("wa_feature"),!(f=c.feature))return;o.features[f]||(o.features[f]={dur:0,clicks:0}),++o.num_clicks_feature,++o.features[f].clicks}if(c.hasOwnProperty("tour_close_location")&&(y="walkaround",++o.num_views_spin,U("ft_closed_locations",c.tour_close_location),o.ft_total_duration+=R.stop("view_ft"),g&&(o.ft_video_features[g]&&(o.ft_video_features[g].dur+=R.stop("ft_video")),o.ft_features[g]&&(o.ft_features[g].dur+=R.stop("ft_feature")),b&&(o.ft_features[g].dur_autoplay_paused+=R.stop("ft_autoplay")))),c.hasOwnProperty("client_id_prid")){var p=e.location.href.match(/spins.spincar.com/g),v=p?t.querySelector("iframe"):t.querySelector('iframe[name*="sts"]'),m=p?"":u.get_analytics_link();v.contentWindow.postMessage("client_id_prid:"+o.client_id+","+o.prid+","+m,"*")}if(c.hasOwnProperty("view_feature")){if(o.ft_features[c.view_feature]||(o.ft_features[c.view_feature]={category:null,dur:0,views:0,dur_autoplay_paused:0}),g){var w=R.stop("ft_feature");o.ft_features[g].dur+=w,o.total_feature_time+=w,b&&(o.ft_features[g].dur_autoplay_paused+=R.stop("ft_autoplay"))}if(R.start("ft_feature"),b&&R.start("ft_autoplay"),!(g=c.view_feature))return;o.ft_features[g].category=c.view_category,++o.ft_features[g].views,++o.total_feature_clicks}if(c.hasOwnProperty("ft_menu_opened")&&(g&&(o.ft_features[g].dur+=R.stop("ft_feature"),b&&(o.ft_features[g].dur_autoplay_paused+=R.stop("ft_autoplay"))),g=null),c.hasOwnProperty("closeup")){if(r=function(){return"hotspot_click"===_?"features":"carousel_clicks"},d&&_&&(o[r()][d].dur+=R.stop("closeup")),R.start("closeup"),d=c.closeup,_=c.mode,!d||!_)return;a=function(e){o[e][d]||(o[e][d]={dur:0,clicks:0}),++o[e][d].clicks},y="features"===r()?"walkaround":"photo",a(r()),++o.num_clicks_feature}if(c.hasOwnProperty("carfax_link_clicked")&&(o.carfax_link_clicked=!0),c.hasOwnProperty("wa_view_clicked")){if(!c.wa_view_clicked||c.wa_view_clicked===A)return;o.view_clicks_and_times[c.wa_view_clicked]||(o.view_clicks_and_times[c.wa_view_clicked]={dur:0,views:0}),A&&(o.view_clicks_and_times[A].dur+=R.stop("wa_view")),R.start("wa_view"),A=c.wa_view_clicked,++o.view_clicks_and_times[A].views}if(c.hasOwnProperty("feature_clicked")){var k=c.feature_clicked,j=c.opened_from;if(k===x)return;if(null!==k&&(o.feature_views_and_times[k]||(o.feature_views_and_times[k]={drawer_views:0,dur:0,non_drawer_views:0})),x){var I=R.stop("feature_redesign");o.feature_views_and_times[x].dur+=I,o.total_feature_time+=I}null!==k?(R.start("feature_redesign"),x=k,++o.total_feature_clicks,"hotspot"===j&&++o.num_clicks_hotspots,"drawer"===j?++o.feature_views_and_times[k].drawer_views:++o.feature_views_and_times[k].non_drawer_views):x=null}if(c.hasOwnProperty("fi_product_clicked")){var D=c.fi_product_clicked;if(D===O)return;if(O){var T=R.stop("financeInsurance");o.fi_views_and_times[O].dur+=T,o.total_fi_time+=T}null!==D?(o.fi_views_and_times[D]||(o.fi_views_and_times[D]={drawer_views:0,dur:0,non_drawer_views:0}),R.start("financeInsurance"),O=D,++o.total_fi_clicks,"drawer"===c.opened_from?++o.fi_views_and_times[D].drawer_views:++o.fi_views_and_times[D].non_drawer_views):O=null}if(c.hasOwnProperty("photo_clicked")){var X=c.photo_clicked,N=c.opened_from;if(X===S)return;if(null!==X&&(o.photo_views_and_times[X]||(o.photo_views_and_times[X]={drawer_views:0,drawer_dur:0,non_drawer_dur:0,non_drawer_views:0,name:c.name})),S){var B=R.stop("photo");"drawer"===F||"photoViewer"===F?o.photo_views_and_times[S].drawer_dur+=B:o.photo_views_and_times[S].non_drawer_dur+=B,o.total_photo_time+=B}null!==X?(R.start("photo"),S=X,++o.total_photo_clicks,"hotspot"===N&&++o.num_clicks_hotspots,"drawer"===N||"photoViewer"===N?(++o.photo_views_and_times[X].drawer_views,"drawer"!==F&&++o.num_views_still_image,F="drawer"):(++o.photo_views_and_times[X].non_drawer_views,F="non_drawer")):(S=null,F=null)}if(c.hasOwnProperty("video_clicked")){var H=c.video_clicked;if(H===S)return;if(null!==H&&(o.video_views_and_times[H]||(o.video_views_and_times[H]={dur:0,views:0})),C){var L=R.stop("video");o.video_views_and_times[C].dur+=L,o.total_video_time+=L}null!==H?(R.start("video"),C=H,++o.total_video_clicks,++o.video_views_and_times[H].views):C=null}if(c.hasOwnProperty("feature_category_card_clicked")&&(o.feature_category_clicks[c.feature_category_card_clicked]||(o.feature_category_clicks[c.feature_category_card_clicked]=0),++o.feature_category_clicks[c.feature_category_card_clicked]),c.hasOwnProperty("video_category_card_clicked")&&(o.video_category_clicks[c.video_category_card_clicked]||(o.video_category_clicks[c.video_category_card_clicked]=0),++o.video_category_clicks[c.video_category_card_clicked]),c.hasOwnProperty("drawer_tab_changed")){var J=c.drawer_tab_changed;if(J===P)return;if(null!==J&&(o.tab_clicks_and_times[J]||(o.tab_clicks_and_times[J]={dur:0,clicks:0})),P){var V=R.stop("drawer_tab");o.tab_clicks_and_times[P].dur+=V}null!==J?(R.start("drawer_tab"),P=J,++o.tab_clicks_and_times[J].clicks):P=null}c.hasOwnProperty("num_clicks_cta")&&++o.num_clicks_cta,c.hasOwnProperty("num_clicks_cta_interstitial")&&++o.num_clicks_cta_interstitial}}}),v(e).on("beforeunload",function(){I=!0,n(),W(!0),a()});var J=1e4,V=1*new Date,Z=!1;setInterval(function(){if(q&&(J=1e4,q=!1),!(V+J>1*new Date||(J*=1.5,V=1*new Date,W(),Z))){var t={trackingId:u.ga_tracking_id||null,clientId:null},i=function(){var e=v(1===v("iframe").length?"iframe":'iframe[name*="sts"]');e.length&&(e[0].contentWindow.postMessage("ga_tracker:"+JSON.stringify(t),"*"),Z=!0)};e.ga?ga(function(){e.ga.getAll&&e.ga.getAll().length&&(t.clientId=e.ga.getAll()[0].b.data.values[":clientId"]),i()}):i()}},1e3),B()}();var I=function(t){if(t&&t.contentWindow&&!u.vr_mode_workaround_active){var i=0;e.addEventListener("deviceorientation",function(n){1*new Date-i<20||(i=1*new Date,t.contentWindow&&t.contentWindow.postMessage({type:"deviceorientation",alpha:n.alpha,beta:n.beta,gamma:n.gamma,orientation:screen.orientation?screen.orientation.angle:e.orientation},"*"))});var n=0;addEventListener("message",function(e){e=e.data,e.hasOwnProperty("type")&&"deviceorientation"===e.type&&(1*new Date-n<20||(n=1*new Date,t.contentWindow&&t.contentWindow.postMessage({type:"deviceorientation",alpha:e.alpha,beta:e.beta,gamma:e.gamma,orientation:e.orientation},"*")))},!0),u.vr_mode_workaround_active=!0}},D=function(){if(-1!==["allamericanfordofhackensack.com","brownhondaamarillo.com","courtesykiamoline.com","feldmanchevyofnovi.com","feldmanchevyofnovi.net","feldmanchevyofhighland.com","feldmanchevyofhighland.net","freedommotors.com","gcmazda.com","sandysansingchevy.com"].indexOf(u.canonical_hostname)){var e=function(){var e=t.createElement("iframe");return e.width=e.height=1,e.scrolling="no",e.frameBorder=0,e.style.display="none",e.src="https://us.creativecdn.com/tags?id=pr_1BXaKqc7ONuVpFzMujXp&ncm=1&id=pr_1BXaKqc7ONuVpFzMujXp_custom_dealershipID_"+u.criteo.account_id,t.body.appendChild(e),e}(),i=u.srp_vins?u.srp_vins.map(function(e){return e.toUpperCase()}).join(","):"",n=u.vin?u.vin.toUpperCase():"",a={homepage:"_home",srp:"_listing_"+i,vdp:"_offer_"+n};if(u.page_type&&u.page_type in a){var r=e.cloneNode(!0);r.src=r.src.replace("&ncm=1",a[u.page_type]),t.body.appendChild(r)}}};u.criteo=u.criteo||{},u.criteo.send=function(){if(!u.Analytics2.isOptout&&u.criteo.account_id){if("0"===u.criteo.account_id&&(u.criteo.account_id=o(),!u.criteo.account_id))return;if("00"===u.criteo.account_id&&(u.criteo.account_id=d(),!u.criteo.account_id))return;if("000"===u.criteo.account_id&&(u.criteo.account_id=n(),!u.criteo.account_id))return;var t=[];if("srp"===u.page_type)for(t=u.srp_vins.slice(0,3);t.length<3;)t.push("");else"vdp"===u.page_type&&t.push(v.trim(u.criteo_vin)||u.vin);if(-1!==["53066","44592","57299"].indexOf(u.criteo.account_id))for(var a=0;a<t.length;a++)t[a]="1";c.log("spincar adtech",u.criteo.account_id,u.page_type,t);var r=/iPad/.test(i.userAgent)?"t":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(i.userAgent)?"m":"d";if(e.criteo_q=e.criteo_q||[],e.criteo_q.push({event:"setAccount",account:u.criteo.account_id},{event:"setSiteType",type:r}),"homepage"===u.page_type)e.criteo_q.push({event:"viewHome"});else if("srp"===u.page_type)e.criteo_q.push({event:"viewList",item:t});else{if("vdp"!==u.page_type)return;e.criteo_q.push({event:"viewItem",item:t[0]})}v.getScript("//static.criteo.net/js/ld/ld.js"),u.criteo_audit={account_id:u.criteo.account_id,page_type:u.page_type,vins:t,type:r},u.analytics2.criteo_audit=u.criteo_audit;var s=new Image;s.onload=s.onerror=function(){s=null},s.src="https://sqs.us-east-1.amazonaws.com/505055843994/prod_counter_onetag?Action=SendMessage&MessageBody="+1*new Date+"&Version=2012-11-05",D()}},v(e).one("page_type",u.criteo.send),u.get_analytics_link=function(){if(u.analytics2.client_id&&u.customer)return"https://manager.spincar.com/shopper-intelligence-report/"+_(u.customer)+"/"+u.analytics2.client_id},u.add_analytics_link=function(e,t){void 0===t&&(t="\r\n--\r\nThis customer interacted with SpinCar. To view their interaction on your website, copy and paste this link into a browser:\r\n");try{var i=u.get_analytics_link().replace(/^(?:https?:)?\/\//,"")}catch(e){return!1}return!(!i||-1!==e.indexOf(i))&&(e=v.trim(e)+"\r\n"+t+i)},u.add_analytics_link_html=function(e,t){var i=u.get_analytics_link(),n=v("<a>").attr("href",i).html("SpinCar Lead Intelligence Report"),a=v("<div>").append(n).html();return a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"escape"===t&&(a=a.replace(/"/g,"&quot;").replace(/'/g,"&#039;")),"replace"===t&&(a=a.replace(/"/g,"'")),!(!a||-1!==e.indexOf(a))&&(e=v.trim(e)+"\r\n\r\n"+a)};var F=setInterval(function(){void 0!==(e.SpinCarLeadReportUrl=u.get_analytics_link())&&clearInterval(F)},50);u.tracking_only&&(u.analytics2.tracking_only=!0),u.navigated=function(){u.load_start=1*new Date,u.vin=void 0,u.Analytics2.reinitialize(),u.retry_timeout&&(clearTimeout(u.retry_timeout),u.retry_timeout=void 0)},function(e){var i,n,a=u.args.stsprovider;if(u.args.stsguess)return void v.getScript(C,function(){u.guess(g,function(t){y(t,"swipetospin","tesla",e)})});var r=!1;u.tracking_only&&I(t.querySelector('iframe[src*="spins.spincar.com"]')),a?y(a,i,void 0,e):f(x,"init",function(t){u.analytics2.missing_script_integration=!1,r=!0;var o=t(g,e);u.old_ui_enabled=u.old_ui_enabled||u.args.enableoldui,"object"==typeof o&&o.length>=2&&(a=o[0],i=u.customer=u.analytics2.s3_folder=u.args.stscustomer||o[1],u.args.stsregion?u.region=u.args.stsregion:u.regioner(u.customer),n=o[2],y(a,i,n,e))}),s(function(){if(!r){var e=A();u.analytics2.missing_script_integration=!0,u.analytics2.vin=e,u.Analytics2.SendNow()}},6e4)}(function(n,r,o){if(r=v.trim(r).toLowerCase()){if(u.page_type="vdp",c.log("spincar_detected_vin =",r),u.debug=!1,!0===u.args.debugspin)n="swipetospin",r="tesla",u.debug=!0,u.partner=void 0;else if(u.args.debugspin){var l=v.grep(u.args.debugspin.split("/"),function(e){return e});n=l[0],r=l[1],u.debug=!0,u.partner=void 0}else"string"==typeof u.args.debugvin&&(r=u.args.debugvin,u.debug=!0);u.customer=u.analytics2.s3_folder=u.args.stscustomer||n,u.args.stsregion?u.region=u.args.stsregion:u.regioner(u.customer),u.vin=u.analytics2.vin=r,u.Analytics2.SendNow(),void 0!==u.args.popoutenabled&&(u.popout_enabled=u.args.popoutenabled);var d=1*new Date;!function c(){function l(){u.analytics2.spin=!0,u.analytics2.spin_latency=1*new Date-u.load_start,u.Analytics2.SendNow()}function _(){l(),u.tried_injecting=!0,h.style.display="block",j(h),s(function(){v(e).triggerHandler("resize")},0),I(w);var t=v("<a>").attr("href","http://spincar.com").html("360 WalkAround Powered By SpinCar").css("font-family","sans").css("font-size","8px").css("position","absolute").css("bottom",0).css("right",0).appendTo(h),n=(i.userAgent||"").toLowerCase();-1===n.indexOf("googlebot")&&-1===n.indexOf("bingbot")&&t.hide()}if(!u.region)return void s(c,a.max(5,(1*new Date-d)/10));var f=u.spin_url=u.get_spin_url(r,n),g=" !important",h=t.createElement("div"),m="sts_"+a.random().toString().split(".")[1];h.id=m,v(h).addClass("sts-spin"),h.style.display="none",h.style.width="100%",h.style.position="relative",h.style.zIndex="0",v(h).data("aspect",16/9),v(h).addClass("sts-spin");var w=t.createElement("iframe");w.name=m,w.src=f,w.scrolling="no",w.allowFullscreen="true",v(w).attr("style",["border:none"+g,"margin:0"+g,"padding:0"+g,"width:1px"+g,"height:1px"+g,"min-width:100%"+g,"min-height:100%"+g,"z-index:0"+g].join(";")),w.id=m+"-iframe",w.classList.add("spin-frame"),u.tracking_only?(w=void 0,h=!1):(v(h).prepend(w),v("body").prepend(h)),u.spin=h,v(e).on("message.sts_vehicle_data",p);var y=function(t){if(t=t.originalEvent,"sts_no_spin_exists"===t.data&&(v(e).off("message.sts_spin_exists"),u.spin_exists=!1,u.analytics2.spin=!1,u.Analytics2.SendNow()),"sts_spin_exists"===t.data){if(v(e).off("message.sts_spin_exists"),u.spin_exists=!0,u.tracking_only)return void l();o(h,_)}};v(e).on("message.sts_spin_exists",y)}()}})},O=(new Date).getTime(),S=u.args.teststatic?O:a.floor(O/6e4);v.ajax({url:k+"static_content_deployment.js?_="+S,dataType:"script",cache:!0,success:function(){u.static_content_commit=u.get_static_content_commit(),x()}}),e.addEventListener("message",f)}}))}(window,document,window.navigator||{},function(){try{localStorage}catch(e){return{}}}(),Math,encodeURIComponent,decodeURIComponent,setTimeout,function(){try{return console}catch(e){return{log:function(){}}}}(),history,STS,XMLHttpRequest);
